parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"qLhI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Array.isArray,r=e;exports.default=r;
},{}],"iJ7y":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t="object"==typeof e&&e&&e.Object===Object&&e,o=t;exports.default=o;
},{}],"ygki":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_freeGlobal.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r="object"==typeof self&&self&&self.Object===Object&&self,l=e.default||r||Function("return this")(),s=l;exports.default=s;
},{"./_freeGlobal.js":"iJ7y"}],"Oi8n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_root.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=e.default.Symbol,o=r;exports.default=o;
},{"./_root.js":"ygki"}],"InRc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_Symbol.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=Object.prototype,a=r.hasOwnProperty,o=r.toString,l=e.default?e.default.toStringTag:void 0;function u(e){var t=a.call(e,l),r=e[l];try{e[l]=void 0;var u=!0}catch(i){}var d=o.call(e);return u&&(t?e[l]=r:delete e[l]),d}var d=u;exports.default=d;
},{"./_Symbol.js":"Oi8n"}],"iwg4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Object.prototype,t=e.toString;function r(e){return t.call(e)}var o=r;exports.default=o;
},{}],"svpX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./_Symbol.js")),t=u(require("./_getRawTag.js")),r=u(require("./_objectToString.js"));function u(e){return e&&e.__esModule?e:{default:e}}var o="[object Null]",d="[object Undefined]",l=e.default?e.default.toStringTag:void 0;function a(e){return null==e?void 0===e?d:o:l&&l in Object(e)?(0,t.default)(e):(0,r.default)(e)}var i=a;exports.default=i;
},{"./_Symbol.js":"Oi8n","./_getRawTag.js":"InRc","./_objectToString.js":"iwg4"}],"UKR9":[function(require,module,exports) {
"use strict";function e(e){return null!=e&&"object"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"Z7xV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseGetTag.js")),t=r(require("./isObjectLike.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u="[object Symbol]";function o(r){return"symbol"==typeof r||(0,t.default)(r)&&(0,e.default)(r)==u}var s=o;exports.default=s;
},{"./_baseGetTag.js":"svpX","./isObjectLike.js":"UKR9"}],"LnD9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./isArray.js")),r=t(require("./isSymbol.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;function o(t,o){if((0,e.default)(t))return!1;var s=typeof t;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=t&&!(0,r.default)(t))||(l.test(t)||!u.test(t)||null!=o&&t in Object(o))}var s=o;exports.default=s;
},{"./isArray.js":"qLhI","./isSymbol.js":"Z7xV"}],"DTZk":[function(require,module,exports) {
"use strict";function e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"tWvT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseGetTag.js")),t=r(require("./isObject.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u="[object AsyncFunction]",o="[object Function]",n="[object GeneratorFunction]",a="[object Proxy]";function c(r){if(!(0,t.default)(r))return!1;var c=(0,e.default)(r);return c==o||c==n||c==u||c==a}var i=c;exports.default=i;
},{"./_baseGetTag.js":"svpX","./isObject.js":"DTZk"}],"xFkS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_root.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=e.default["__core-js_shared__"],o=t;exports.default=o;
},{"./_root.js":"ygki"}],"pULC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_coreJsData.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function(){var r=/[^.]+$/.exec(e.default&&e.default.keys&&e.default.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function u(e){return!!t&&t in e}var a=u;exports.default=a;
},{"./_coreJsData.js":"xFkS"}],"UKJK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=Function.prototype,r=t.toString;function e(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var o=e;exports.default=o;
},{}],"Zczf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./isFunction.js")),t=u(require("./_isMasked.js")),r=u(require("./isObject.js")),o=u(require("./_toSource.js"));function u(e){return e&&e.__esModule?e:{default:e}}var s=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,n=Function.prototype,i=Object.prototype,c=n.toString,l=i.hasOwnProperty,p=RegExp("^"+c.call(l).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(u){return!(!(0,r.default)(u)||(0,t.default)(u))&&((0,e.default)(u)?p:a).test((0,o.default)(u))}var f=d;exports.default=f;
},{"./isFunction.js":"tWvT","./_isMasked.js":"pULC","./isObject.js":"DTZk","./_toSource.js":"UKJK"}],"ZVQn":[function(require,module,exports) {
"use strict";function e(e,t){return null==e?void 0:e[t]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"tx41":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_baseIsNative.js")),t=r(require("./_getValue.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r,u){var a=(0,t.default)(r,u);return(0,e.default)(a)?a:void 0}var a=u;exports.default=a;
},{"./_baseIsNative.js":"Zczf","./_getValue.js":"ZVQn"}],"YsDH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getNative.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)(Object,"create"),u=r;exports.default=u;
},{"./_getNative.js":"tx41"}],"sJnX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_nativeCreate.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(){this.__data__=e.default?(0,e.default)(null):{},this.size=0}var r=u;exports.default=r;
},{"./_nativeCreate.js":"YsDH"}],"c9sB":[function(require,module,exports) {
"use strict";function e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"zYTU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_nativeCreate.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r="__lodash_hash_undefined__",a=Object.prototype,o=a.hasOwnProperty;function u(t){var a=this.__data__;if(e.default){var u=a[t];return u===r?void 0:u}return o.call(a,t)?a[t]:void 0}var _=u;exports.default=_;
},{"./_nativeCreate.js":"YsDH"}],"ZFwF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_nativeCreate.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=Object.prototype,a=r.hasOwnProperty;function o(t){var r=this.__data__;return e.default?void 0!==r[t]:a.call(r,t)}var u=o;exports.default=u;
},{"./_nativeCreate.js":"YsDH"}],"i3LK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_nativeCreate.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r="__lodash_hash_undefined__";function a(t,a){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=e.default&&void 0===a?r:a,this}var s=a;exports.default=s;
},{"./_nativeCreate.js":"YsDH"}],"tE4I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./_hashClear.js")),t=u(require("./_hashDelete.js")),r=u(require("./_hashGet.js")),a=u(require("./_hashHas.js")),s=u(require("./_hashSet.js"));function u(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}o.prototype.clear=e.default,o.prototype.delete=t.default,o.prototype.get=r.default,o.prototype.has=a.default,o.prototype.set=s.default;var l=o;exports.default=l;
},{"./_hashClear.js":"sJnX","./_hashDelete.js":"c9sB","./_hashGet.js":"zYTU","./_hashHas.js":"ZFwF","./_hashSet.js":"i3LK"}],"cHCQ":[function(require,module,exports) {
"use strict";function e(){this.__data__=[],this.size=0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"SRq7":[function(require,module,exports) {
"use strict";function e(e,t){return e===t||e!=e&&t!=t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"Hp84":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./eq.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){for(var u=r.length;u--;)if((0,e.default)(r[u][0],t))return u;return-1}var u=t;exports.default=u;
},{"./eq.js":"SRq7"}],"NMSb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_assocIndexOf.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=Array.prototype,a=r.splice;function s(t){var r=this.__data__,s=(0,e.default)(r,t);return!(s<0)&&(s==r.length-1?r.pop():a.call(r,s,1),--this.size,!0)}var o=s;exports.default=o;
},{"./_assocIndexOf.js":"Hp84"}],"P9vD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_assocIndexOf.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=this.__data__,u=(0,e.default)(r,t);return u<0?void 0:r[u][1]}var u=r;exports.default=u;
},{"./_assocIndexOf.js":"Hp84"}],"mbsC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_assocIndexOf.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return(0,e.default)(this.__data__,t)>-1}var u=r;exports.default=u;
},{"./_assocIndexOf.js":"Hp84"}],"GGNI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_assocIndexOf.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){var s=this.__data__,u=(0,e.default)(s,t);return u<0?(++this.size,s.push([t,r])):s[u][1]=r,this}var s=r;exports.default=s;
},{"./_assocIndexOf.js":"Hp84"}],"UlXa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./_listCacheClear.js")),t=s(require("./_listCacheDelete.js")),r=s(require("./_listCacheGet.js")),l=s(require("./_listCacheHas.js")),a=s(require("./_listCacheSet.js"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var l=e[t];this.set(l[0],l[1])}}u.prototype.clear=e.default,u.prototype.delete=t.default,u.prototype.get=r.default,u.prototype.has=l.default,u.prototype.set=a.default;var o=u;exports.default=o;
},{"./_listCacheClear.js":"cHCQ","./_listCacheDelete.js":"NMSb","./_listCacheGet.js":"P9vD","./_listCacheHas.js":"mbsC","./_listCacheSet.js":"GGNI"}],"hhFe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_getNative.js")),t=r(require("./_root.js"));function r(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)(t.default,"Map"),a=u;exports.default=a;
},{"./_getNative.js":"tx41","./_root.js":"ygki"}],"S4lD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_Hash.js")),t=r(require("./_ListCache.js")),a=r(require("./_Map.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){this.size=0,this.__data__={hash:new e.default,map:new(a.default||t.default),string:new e.default}}var u=s;exports.default=u;
},{"./_Hash.js":"tE4I","./_ListCache.js":"UlXa","./_Map.js":"hhFe"}],"yCDP":[function(require,module,exports) {
"use strict";function e(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"QOd1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_isKeyable.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){var a=t.__data__;return(0,e.default)(r)?a["string"==typeof r?"string":"hash"]:a.map}var a=r;exports.default=a;
},{"./_isKeyable.js":"yCDP"}],"kigP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getMapData.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){var r=(0,e.default)(this,t).delete(t);return this.size-=r?1:0,r}var u=r;exports.default=u;
},{"./_getMapData.js":"QOd1"}],"uJAD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getMapData.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return(0,e.default)(this,t).get(t)}var u=r;exports.default=u;
},{"./_getMapData.js":"QOd1"}],"h8gm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getMapData.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return(0,e.default)(this,t).has(t)}var u=r;exports.default=u;
},{"./_getMapData.js":"QOd1"}],"VMmx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_getMapData.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){var s=(0,e.default)(this,t),u=s.size;return s.set(t,r),this.size+=s.size==u?0:1,this}var s=r;exports.default=s;
},{"./_getMapData.js":"QOd1"}],"Ov7L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./_mapCacheClear.js")),t=o(require("./_mapCacheDelete.js")),r=o(require("./_mapCacheGet.js")),a=o(require("./_mapCacheHas.js")),u=o(require("./_mapCacheSet.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}l.prototype.clear=e.default,l.prototype.delete=t.default,l.prototype.get=r.default,l.prototype.has=a.default,l.prototype.set=u.default;var p=l;exports.default=p;
},{"./_mapCacheClear.js":"S4lD","./_mapCacheDelete.js":"kigP","./_mapCacheGet.js":"uJAD","./_mapCacheHas.js":"h8gm","./_mapCacheSet.js":"VMmx"}],"mNqw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_MapCache.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r="Expected a function";function a(t,u){if("function"!=typeof t||null!=u&&"function"!=typeof u)throw new TypeError(r);var n=function(){var e=arguments,r=u?u.apply(this,e):e[0],a=n.cache;if(a.has(r))return a.get(r);var c=t.apply(this,e);return n.cache=a.set(r,c)||a,c};return n.cache=new(a.Cache||e.default),n}a.Cache=e.default;var u=a;exports.default=u;
},{"./_MapCache.js":"Ov7L"}],"ZHiD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./memoize.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=500;function u(r){var u=(0,e.default)(r,function(e){return a.size===t&&a.clear(),e}),a=u.cache;return u}var a=u;exports.default=a;
},{"./memoize.js":"mNqw"}],"Zn9S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_memoizeCapped.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,a=(0,e.default)(function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,function(e,t,a,d){r.push(a?d.replace(u,"$1"):t||e)}),r}),d=a;exports.default=d;
},{"./_memoizeCapped.js":"ZHiD"}],"Ghew":[function(require,module,exports) {
"use strict";function e(e,r){for(var t=-1,o=null==e?0:e.length,u=Array(o);++t<o;)u[t]=r(e[t],t,e);return u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e;exports.default=r;
},{}],"fELs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./_Symbol.js")),r=a(require("./_arrayMap.js")),t=a(require("./isArray.js")),u=a(require("./isSymbol.js"));function a(e){return e&&e.__esModule?e:{default:e}}var i=1/0,o=e.default?e.default.prototype:void 0,f=o?o.toString:void 0;function l(e){if("string"==typeof e)return e;if((0,t.default)(e))return(0,r.default)(e,l)+"";if((0,u.default)(e))return f?f.call(e):"";var a=e+"";return"0"==a&&1/e==-i?"-0":a}var d=l;exports.default=d;
},{"./_Symbol.js":"Oi8n","./_arrayMap.js":"Ghew","./isArray.js":"qLhI","./isSymbol.js":"Z7xV"}],"qnJJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_baseToString.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return null==t?"":(0,e.default)(t)}var u=r;exports.default=u;
},{"./_baseToString.js":"fELs"}],"KyMu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("./isArray.js")),r=s(require("./_isKey.js")),t=s(require("./_stringToPath.js")),u=s(require("./toString.js"));function s(e){return e&&e.__esModule?e:{default:e}}function i(s,i){return(0,e.default)(s)?s:(0,r.default)(s,i)?[s]:(0,t.default)((0,u.default)(s))}var a=i;exports.default=a;
},{"./isArray.js":"qLhI","./_isKey.js":"LnD9","./_stringToPath.js":"Zn9S","./toString.js":"qnJJ"}],"RSkD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./isSymbol.js"));function r(e){return e&&e.__esModule?e:{default:e}}var t=1/0;function u(r){if("string"==typeof r||(0,e.default)(r))return r;var u=r+"";return"0"==u&&1/r==-t?"-0":u}var o=u;exports.default=o;
},{"./isSymbol.js":"Z7xV"}],"w3eF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./_castPath.js")),t=r(require("./_toKey.js"));function r(e){return e&&e.__esModule?e:{default:e}}function u(r,u){for(var o=0,a=(u=(0,e.default)(u,r)).length;null!=r&&o<a;)r=r[(0,t.default)(u[o++])];return o&&o==a?r:void 0}var o=u;exports.default=o;
},{"./_castPath.js":"KyMu","./_toKey.js":"RSkD"}],"J1LE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_baseGet.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r,u){var o=null==t?void 0:(0,e.default)(t,r);return void 0===o?u:o}var u=r;exports.default=u;
},{"./_baseGet.js":"w3eF"}],"u9EY":[function(require,module,exports) {
"use strict";function e(e,t){return function(r){return e(t(r))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"CtKb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./_overArg.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=(0,e.default)(Object.getPrototypeOf,Object),o=r;exports.default=o;
},{"./_overArg.js":"u9EY"}],"TS5f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./_baseGetTag.js")),t=o(require("./_getPrototype.js")),r=o(require("./isObjectLike.js"));function o(e){return e&&e.__esModule?e:{default:e}}var u="[object Object]",n=Function.prototype,a=Object.prototype,c=n.toString,l=a.hasOwnProperty,i=c.call(Object);function s(o){if(!(0,r.default)(o)||(0,e.default)(o)!=u)return!1;var n=(0,t.default)(o);if(null===n)return!0;var a=l.call(n,"constructor")&&n.constructor;return"function"==typeof a&&a instanceof a&&c.call(a)==i}var f=s;exports.default=f;
},{"./_baseGetTag.js":"svpX","./_getPrototype.js":"CtKb","./isObjectLike.js":"UKR9"}],"wAUi":[function(require,module,exports) {
"use strict";function e(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"pCEE":[function(require,module,exports) {
var e=Object.create,t=Object.defineProperty,s=Object.defineProperties,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,o=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(e,s,i)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i,u=(e,t)=>{for(var s in t||(t={}))h.call(t,s)&&p(e,s,t[s]);if(a)for(var s of a(t))c.call(t,s)&&p(e,s,t[s]);return e},l=(e,t)=>s(e,r(t)),d=e=>t(e,"__esModule",{value:!0}),_=(e,s)=>{for(var i in d(e),s)t(e,i,{get:s[i],enumerable:!0})},f=(e,s,r)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let a of n(s))h.call(e,a)||"default"===a||t(e,a,{get:()=>s[a],enumerable:!(r=i(s,a))||r.enumerable});return e},m=s=>f(d(t(null!=s?e(o(s)):{},"default",s&&s.__esModule&&"default"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s);_(exports,{AbstractDerivation:()=>L,Atom:()=>ae,Box:()=>ue,ConstantDerivation:()=>le,DerivationFromSource:()=>R,PointerProxy:()=>ze,Ticker:()=>_e,getPointerParts:()=>K,isDerivation:()=>w,isPointer:()=>Y,iterateAndCountTicks:()=>de,iterateOver:()=>fe,pointer:()=>X,prism:()=>Ee,val:()=>pe,valueDerivation:()=>he});var g,v=m(require("lodash-es/get")),y=m(require("lodash-es/isPlainObject")),D=m(require("lodash-es/last")),k=class{constructor(e){this._untapFromSourceTimeout=null,this._cb=(e=>{this._tappers.forEach(t=>{t(e)})}),this._lastTapperId=0,this._untapFromSource=null,this._props=e,this._tappers=new Map}_check(){this._untapFromSource?0===this._tappers.size&&this._scheduleToUntapFromSource():0!==this._tappers.size&&(this._untapFromSource=this._props.tapToSource(this._cb))}_scheduleToUntapFromSource(){null===this._untapFromSourceTimeout&&(this._untapFromSourceTimeout=setTimeout(()=>{this._untapFromSourceTimeout=null,0===this._tappers.size&&(this._untapFromSource(),this._untapFromSource=null)},0))}tap(e){const t=this._lastTapperId++;return this._tappers.set(t,e),this._check(),()=>{this._removeTapperById(t)}}_removeTapperById(e){this._tappers.delete(e),this._check()}},T=class{constructor(){this._lastTapperId=0,this._tappers=new Map,this.tappable=new k({tapToSource:e=>this._tap(e)})}_tap(e){const t=this._lastTapperId++;return this._tappers.set(t,e),this._onNumberOfTappersChangeListener&&this._onNumberOfTappersChangeListener(this._tappers.size),()=>{this._removeTapperById(t)}}_removeTapperById(e){const t=this._tappers.size;this._tappers.delete(e),t!==this._tappers.size&&this._onNumberOfTappersChangeListener&&this._onNumberOfTappersChangeListener(this._tappers.size)}emit(e){this._tappers.forEach(t=>{t(e)})}hasTappers(){return 0!==this._tappers.size}onNumberOfTappersChange(e){this._onNumberOfTappersChangeListener=e}},b=class{constructor(e,t){return this._possiblyMarkAsStale=(()=>{this._ticker.onThisOrNextTick(this._refresh)}),this._refresh=(()=>{const e=this._derivation.getValue();e===this._lastValue&&!0===this._lastValueRecorded||(this._lastValue=e,this._lastValueRecorded=!0,this._emitter.emit(e))}),this._derivation=e,this._ticker=t,this._emitter=new T,this._emitter.onNumberOfTappersChange(()=>{this._reactToNumberOfTappersChange()}),this._hadTappers=!1,this._lastValueRecorded=!1,this._lastValue=void 0,this}_reactToNumberOfTappersChange(){const e=this._emitter.hasTappers();e!==this._hadTappers&&(this._hadTappers=e,e?this._derivation.addDependent(this._possiblyMarkAsStale):this._derivation.removeDependent(this._possiblyMarkAsStale))}tappable(){return this._emitter.tappable}},S=class{constructor(e,t=!1){return this.dontEmitValues=t,this._possiblyMarkAsStale=(()=>{this._emitter.emit(void 0)}),this._derivation=e,this._emitter=new T,this._emitter.onNumberOfTappersChange(()=>{this._reactToNumberOfTappersChange()}),this._hadTappers=!1,this}_reactToNumberOfTappersChange(){const e=this._emitter.hasTappers();e!==this._hadTappers&&(this._hadTappers=e,e?this._derivation.addDependent(this._possiblyMarkAsStale):this._derivation.removeDependent(this._possiblyMarkAsStale))}tappable(){return this._emitter.tappable}};function w(e){return e&&e.isDerivation&&!0===e.isDerivation}!function(e){e[e.none=0]="none",e[e.dep=1]="dep",e[e.inner=2]="inner"}(g||(g={}));var C=()=>{class e extends L{constructor(e,t){return super(),this._depDerivation=e,this._fn=t,this._innerDerivation=void 0,this._staleDependency=1,this._addDependency(e),this}_recalculateHot(){const e=this._staleDependency;if(this._staleDependency=0,2===e)return this._innerDerivation.getValue();const t=this._fn(this._depDerivation.getValue());return w(t)?(this._innerDerivation=t,this._addDependency(t),t.getValue()):t}_recalculateCold(){const e=this._fn(this._depDerivation.getValue());return w(e)?e.getValue():e}_recalculate(){return this.isHot?this._recalculateHot():this._recalculateCold()}_reactToDependencyBecomingStale(e){const t=e===this._depDerivation?1:2;if(2===t&&e!==this._innerDerivation)throw Error("got a _reactToDependencyBecomingStale() from neither the dep nor the inner derivation");0===this._staleDependency?(this._staleDependency=t,1===t&&this._removeInnerDerivation()):1===this._staleDependency||1===t&&(this._staleDependency=1,this._removeInnerDerivation())}_removeInnerDerivation(){this._innerDerivation&&(this._removeDependency(this._innerDerivation),this._innerDerivation=void 0)}_keepHot(){this._staleDependency=1,this.getValue()}_becomeCold(){this._staleDependency=1,this._removeInnerDerivation()}}return e.displayName="flatMap",e},V=void 0;function O(e,t){return V||(V=C()),new V(e,t)}var F=()=>(class extends L{constructor(e,t){super(),this._dep=e,this._fn=t,this._addDependency(e)}_recalculate(){return this._fn(this._dep.getValue())}_reactToDependencyBecomingStale(){}}),N=void 0;function x(e,t){return N||(N=F()),new N(e,t)}var I=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const e=this._head;if(e)return this._head=e.next,e.data}push(e){const t={next:this._head,data:e};this._head=t}};function P(){const e=new I,t=()=>{};return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{e.push(t)},stopIgnoringDependencies:()=>{e.peek()!==t||e.pop()},reportResolutionStart:s=>{const i=e.peek();i&&i(s),e.push(t)},reportResolutionEnd:t=>{e.pop()},pushCollector:t=>{e.push(t)},popCollector:t=>{if(e.peek()!==t)throw new Error("Popped collector is not on top of the stack");e.pop()}}}function A(){const e="__dataverse_discoveryMechanism_sharedStack";if(window){const t=window[e];if(t&&"object"==typeof t&&"Dataverse_discoveryMechanism"===t.type)return t;{const t=P();return window[e]=t,t}}return P()}var{startIgnoringDependencies:M,stopIgnoringDependencies:E,reportResolutionEnd:z,reportResolutionStart:H,pushCollector:j,popCollector:B}=A(),L=class{constructor(){this.isDerivation=!0,this._didMarkDependentsAsStale=!1,this._isHot=!1,this._isFresh=!1,this._lastValue=void 0,this._dependents=new Set,this._dependencies=new Set,this._internal_markAsStale=(e=>{this._reactToDependencyBecomingStale(e),this._didMarkDependentsAsStale||(this._didMarkDependentsAsStale=!0,this._isFresh=!1,this._dependents.forEach(e=>{e(this)}))})}get isHot(){return this._isHot}_addDependency(e){this._dependencies.has(e)||(this._dependencies.add(e),this._isHot&&e.addDependent(this._internal_markAsStale))}_removeDependency(e){this._dependencies.has(e)&&(this._dependencies.delete(e),this._isHot&&e.removeDependent(this._internal_markAsStale))}changes(e){return new b(this,e).tappable()}changesWithoutValues(){return new S(this).tappable()}keepHot(){return this.changesWithoutValues().tap(()=>{})}tapImmediate(e,t){const s=this.changes(e).tap(t);return t(this.getValue()),s}addDependent(e){const t=this._dependents.size>0;this._dependents.add(e),t!==this._dependents.size>0&&this._reactToNumberOfDependentsChange()}removeDependent(e){const t=this._dependents.size>0;this._dependents.delete(e),t!==this._dependents.size>0&&this._reactToNumberOfDependentsChange()}_markAsStale(e){this._internal_markAsStale(e)}getValue(){if(H(this),!this._isFresh){const e=this._recalculate();this._lastValue=e,this._isHot&&(this._isFresh=!0,this._didMarkDependentsAsStale=!1)}return z(this),this._lastValue}_reactToNumberOfDependentsChange(){const e=this._dependents.size>0;e!==this._isHot&&(this._isHot=e,this._didMarkDependentsAsStale=!1,this._isFresh=!1,e?(this._dependencies.forEach(e=>{e.addDependent(this._internal_markAsStale)}),this._keepHot()):(this._dependencies.forEach(e=>{e.removeDependent(this._internal_markAsStale)}),this._becomeCold()))}_keepHot(){}_becomeCold(){}map(e){return x(this,e)}flatMap(e){return O(this,e)}},W=()=>{},R=class extends L{constructor(e,t){super(),this._tapToSource=e,this._getValueFromSource=t,this._untapFromChanges=W,this._cachedValue=void 0,this._hasCachedValue=!1}_recalculate(){return this.isHot?(this._hasCachedValue||(this._cachedValue=this._getValueFromSource(),this._hasCachedValue=!0),this._cachedValue):this._getValueFromSource()}_keepHot(){this._hasCachedValue=!1,this._cachedValue=void 0,this._untapFromChanges=this._tapToSource(e=>{this._hasCachedValue=!0,this._cachedValue=e,this._markAsStale(this)})}_becomeCold(){this._untapFromChanges(),this._untapFromChanges=W,this._hasCachedValue=!1,this._cachedValue=void 0}_reactToDependencyBecomingStale(){}},$=new WeakMap,U=Symbol("pointerMeta"),q=new WeakMap,G={get(e,t){if(t===U)return $.get(e);let s=q.get(e);if(s||(s={},q.set(e,s)),s[t])return s[t];const i=$.get(e),r=Q({root:i.root,path:[...i.path,t]});return s[t]=r,r}},J=e=>{return e[U]},K=e=>{const{root:t,path:s}=J(e);return{root:t,path:s}};function Q(e){var t;const s={root:e.root,path:null!=(t=e.path)?t:[]},i={};return $.set(i,s),new Proxy(i,G)}var X=Q,Y=e=>e&&!!J(e);function Z(e,t,s){return 0===t.length?s(e):te(e,t,s)}var ee,te=(e,t,s)=>{if(0===t.length)return s(e);if(Array.isArray(e)){let[i,...r]=t;i=parseInt(String(i),10),isNaN(i)&&(i=0);const n=e[i],a=te(n,r,s);if(n===a)return e;const o=[...e];return o.splice(i,1,a),o}if("object"==typeof e&&null!==e){const[i,...r]=t,n=e[i],a=te(n,r,s);return n===a?e:l(u({},e),{[i]:a})}{const[e,...i]=t;return{[e]:te(void 0,i,s)}}};!function(e){e[e.Dict=0]="Dict",e[e.Array=1]="Array",e[e.Other=2]="Other"}(ee||(ee={}));var se=e=>Array.isArray(e)?1:(0,y.default)(e)?0:2,ie=(e,t,s=se(e))=>0===s&&"string"==typeof t?e[t]:1===s&&re(t)?e[t]:void 0,re=e=>{const t="number"==typeof e?e:parseInt(e,10);return!isNaN(t)&&t>=0&&t<1/0&&(0|t)===t},ne=class{constructor(e,t){this._parent=e,this._path=t,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(e){this.identityChangeListeners.add(e)}removeIdentityChangeListener(e){this.identityChangeListeners.delete(e),this._checkForGC()}removeChild(e){this.children.delete(e),this._checkForGC()}getChild(e){return this.children.get(e)}getOrCreateChild(e){let t=this.children.get(e);return t||(t=t=new ne(this,this._path.concat([e])),this.children.set(e,t)),t}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild((0,D.default)(this._path))}},ae=class{constructor(e){this.$$isIdentityDerivationProvider=!0,this.reduceState=((e,t)=>{const s=Z(this.getState(),e,t);return this.setState(s),s}),this._onPathValueChange=((e,t)=>{const s=this._getOrCreateScopeForPath(e);s.identityChangeListeners.add(t);return()=>{s.identityChangeListeners.delete(t)}}),this._currentState=e,this._rootScope=new ne(void 0,[]),this.pointer=X({root:this,path:[]})}setState(e){const t=this._currentState;this._currentState=e,this._checkUpdates(this._rootScope,t,e)}getState(){return this._currentState}getIn(e){return 0===e.length?this.getState():(0,v.default)(this.getState(),e)}setIn(e,t){return this.reduceState(e,()=>t)}_checkUpdates(e,t,s){if(t===s)return;if(e.identityChangeListeners.forEach(e=>e(s)),0===e.children.size)return;const i=se(t),r=se(s);2===i&&i===r||e.children.forEach((e,n)=>{const a=ie(t,n,i),o=ie(s,n,r);this._checkUpdates(e,a,o)})}_getOrCreateScopeForPath(e){let t=this._rootScope;for(const s of e)t=t.getOrCreateChild(s);return t}getIdentityDerivation(e){return new R(t=>this._onPathValueChange(e,t),()=>this.getIn(e))}},oe=new WeakMap,he=e=>{const t=J(e);let s=oe.get(t);if(!s){const e=t.root;if(!ce(e))throw new Error("Cannot run valueDerivation() on a pointer whose root is not an IdentityChangeProvider");const{path:i}=t;s=e.getIdentityDerivation(i),oe.set(t,s)}return s};function ce(e){return"object"==typeof e&&null!==e&&!0===e.$$isIdentityDerivationProvider}var pe=e=>Y(e)?he(e).getValue():w(e)?e.getValue():e,ue=class{constructor(e){this._value=e,this._emitter=new T,this._publicDerivation=new R(e=>this._emitter.tappable.tap(e),this.get.bind(this))}set(e){e!==this._value&&(this._value=e,this._emitter.emit(e))}get(){return this._value}get derivation(){return this._publicDerivation}},le=class extends L{constructor(e){return super(),this._v=e,this}_recalculate(){return this._v}_reactToDependencyBecomingStale(){}};function*de(e){let t;if(Y(e))t=he(e);else{if(!w(e))throw new Error("Only pointers and derivations are supported");t=e}let s=0;const i=t.changesWithoutValues().tap(()=>{s++});try{for(;;){const e=s;s=0,yield{value:t.getValue(),ticks:e}}}finally{i()}}var _e=class{constructor(){this._ticking=!1,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}onThisOrNextTick(e){this._scheduledForThisOrNextTick.add(e)}onNextTick(e){this._scheduledForNextTick.add(e)}offThisOrNextTick(e){this._scheduledForThisOrNextTick.delete(e)}offNextTick(e){this._scheduledForNextTick.delete(e)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}tick(e=performance.now()){this._ticking=!0,this._timeAtCurrentTick=e,this._scheduledForNextTick.forEach(e=>this._scheduledForThisOrNextTick.add(e)),this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}_tick(e){const t=this.time;if(e>10&&console.warn("_tick() recursing for 10 times"),e>100)throw new Error("Maximum recursion limit for _tick()");const s=this._scheduledForThisOrNextTick;if(this._scheduledForThisOrNextTick=new Set,s.forEach(e=>{e(t)}),this._scheduledForThisOrNextTick.size>0)return this._tick(e+1)}};function*fe(e){let t;if(Y(e))t=he(e);else{if(!w(e))throw new Error("Only pointers and derivations are supported");t=e}const s=new _e,i=t.changes(s).tap(e=>{});try{for(;;)s.tick(),yield t.getValue()}finally{i()}}var me=()=>{},ge=class extends L{constructor(e){super(),this._fn=e,this._cacheOfDendencyValues=new Map,this._possiblyStaleDeps=new Set,this._prismScope=new ve}_recalculate(){let e;if(this._possiblyStaleDeps.size>0){let e=!1;M();for(const t of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(t)!==t.getValue()){e=!0;break}if(E(),this._possiblyStaleDeps.clear(),!e)return this._lastValue}const t=new Set;this._cacheOfDendencyValues.clear();const s=e=>{t.add(e),this._addDependency(e)};j(s),Te.push(this._prismScope);try{e=this._fn()}catch(i){console.error(i)}finally{Te.pop()!==this._prismScope&&console.warn("The Prism hook stack has slipped. This is a bug.")}return B(s),this._dependencies.forEach(e=>{t.has(e)||this._removeDependency(e)}),this._dependencies=t,M(),t.forEach(e=>{this._cacheOfDendencyValues.set(e,e.getValue())}),E(),e}_reactToDependencyBecomingStale(e){this._possiblyStaleDeps.add(e)}_keepHot(){this._prismScope=new ve,M(),this.getValue(),E()}_becomeCold(){ye(this._prismScope),this._prismScope=new ve}},ve=class{constructor(){this.isPrismScope=!0,this._subs={}}sub(e){return this._subs[e]||(this._subs[e]=new ve),this._subs[e]}get subs(){return this._subs}};function ye(e){for(const[t,s]of Object.entries(e.subs))ye(s);De(e)}function De(e){const t=Se.get(e);if(t)for(const s of Object.keys(t)){ke(t[s].cleanup,void 0)}Se.delete(e)}function ke(e,t){let s=t,i=!1;try{s=e(),i=!0}catch(r){setTimeout(()=>{throw r})}return{success:i,returnValue:s}}var Te=new I,be=new WeakMap,Se=new WeakMap,we=new WeakMap;function Ce(e,t){const s=Te.peek();if(!s)throw new Error("prism.ref() is called outside of a prism() call.");let i=be.get(s);if(i||(i={},be.set(s,i)),i[e])return i[e];{const s={current:t};return i[e]=s,s}}function Ve(e,t,s){const i=Te.peek();if(!i)throw new Error("prism.effect() is called outside of a prism() call.");let r=Se.get(i);r||(r={},Se.set(i,r)),r[e]||(r[e]={cleanup:me,deps:[{}]});const n=r[e];Oe(n.deps,s)&&(n.cleanup(),M(),n.cleanup=ke(t,me).returnValue,E(),n.deps=s)}function Oe(e,t){return void 0===e||void 0===t||(e.length!==t.length||e.some((e,s)=>e!==t[s]))}function Fe(e,t,s){const i=Te.peek();if(!i)throw new Error("prism.memo() is called outside of a prism() call.");let r=we.get(i);r||(r={},we.set(i,r)),r[e]||(r[e]={cachedValue:null,deps:[{}]});const n=r[e];return Oe(n.deps,s)&&(M(),n.cachedValue=ke(t,void 0).returnValue,E(),n.deps=s),n.cachedValue}function Ne(e,t){const{b:s,setValue:i}=Me.memo("state/"+e,()=>{const e=new ue(t);return{b:e,setValue:t=>e.set(t)}},[]);return[s.derivation.getValue(),i]}function xe(){if(!Te.peek())throw new Error("The parent function is called outside of a prism() call.")}function Ie(e,t){const s=Te.peek();if(!s)throw new Error("prism.scope() is called outside of a prism() call.");const i=s.sub(e);Te.push(i);const r=ke(t,void 0).returnValue;return Te.pop(),r}function Pe(e,t,s){return Fe(e,()=>Me(t),s).getValue()}function Ae(){return!!Te.peek()}var Me=e=>new ge(e);Me.ref=Ce,Me.effect=Ve,Me.memo=Fe,Me.ensurePrism=xe,Me.state=Ne,Me.scope=Ie,Me.sub=Pe,Me.inPrism=Ae;var Ee=Me,ze=class{constructor(e){this.$$isIdentityDerivationProvider=!0,this._currentPointerBox=new ue(e),this.pointer=X({root:this,path:[]})}setPointer(e){this._currentPointerBox.set(e)}getIdentityDerivation(e){return this._currentPointerBox.derivation.flatMap(t=>{const s=e.reduce((e,t)=>e[t],t);return he(s)})}};
},{"lodash-es/get":"J1LE","lodash-es/isPlainObject":"TS5f","lodash-es/last":"wAUi"}],"IWNj":[function(require,module,exports) {
var t=Object.create,e=Object.defineProperty,r=Object.defineProperties,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,a=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,l=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,h=(t,e)=>{for(var r in e||(e={}))u.call(e,r)&&l(t,r,e[r]);if(s)for(var r of s(e))c.call(e,r)&&l(t,r,e[r]);return t},p=(t,e)=>r(t,o(e)),f=t=>e(t,"__esModule",{value:!0}),d=(t,e)=>{var r={};for(var n in t)u.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&s)for(var n of s(t))e.indexOf(n)<0&&c.call(t,n)&&(r[n]=t[n]);return r},v=(t,e)=>(function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports}),y=(t,r)=>{for(var n in f(t),r)e(t,n,{get:r[n],enumerable:!0})},g=(t,r,o)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let s of i(r))u.call(t,s)||"default"===s||e(t,s,{get:()=>r[s],enumerable:!(o=n(r,s))||o.enumerable});return t},m=r=>g(f(e(null!=r?t(a(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),_=(t,e,r)=>(l(t,"symbol"!=typeof e?e+"":e,r),r),b=v({"../node_modules/timing-function/lib/UnitBezier.js"(t,e){e.exports=function(){function t(t,e,r,n){this.set(t,e,r,n)}return t.prototype.set=function(t,e,r,n){this._cx=3*t,this._bx=3*(r-t)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*e,this._by=3*(n-e)-this._cy,this._ay=1-this._cy-this._by},t.epsilon=1e-6,t.prototype._sampleCurveX=function(t){return((this._ax*t+this._bx)*t+this._cx)*t},t.prototype._sampleCurveY=function(t){return((this._ay*t+this._by)*t+this._cy)*t},t.prototype._sampleCurveDerivativeX=function(t){return(3*this._ax*t+2*this._bx)*t+this._cx},t.prototype._solveCurveX=function(t,e){var r,n,o,i,s,a;for(o=void 0,i=void 0,s=void 0,a=void 0,r=void 0,n=void 0,s=t,n=0;n<8;){if(a=this._sampleCurveX(s)-t,Math.abs(a)<e)return s;if(r=this._sampleCurveDerivativeX(s),Math.abs(r)<e)break;s-=a/r,n++}if((s=t)<(o=0))return o;if(s>(i=1))return i;for(;o<i;){if(a=this._sampleCurveX(s),Math.abs(a-t)<e)return s;t>a?o=s:i=s,s=.5*(i-o)+o}return s},t.prototype.solve=function(t,e){return this._sampleCurveY(this._solveCurveX(t,e))},t.prototype.solveSimple=function(t){return this._sampleCurveY(this._solveCurveX(t,1e-6))},t}()}}),P=v({"../node_modules/levenshtein-edit-distance/index.js"(t,e){var r,n;r=[],n=[],e.exports=function(t,e,o){var i,s,a,u,c,l,h,p;if(t===e)return 0;if(i=t.length,s=e.length,0===i)return s;if(0===s)return i;for(o&&(t=t.toLowerCase(),e=e.toLowerCase()),h=0;h<i;)n[h]=t.charCodeAt(h),r[h]=++h;for(p=0;p<s;)for(a=e.charCodeAt(p),u=c=p++,h=-1;++h<i;)l=a===n[h]?c:c+1,c=r[h],r[h]=u=c>u?l>u?u+1:l:l>c?c+1:l;return u}}}),w=v({"../node_modules/propose/propose.js"(t,e){var r=P();e.exports=function(){var t,e,n,o,i,s=0,a=arguments[0],u=arguments[1],c=u.length,l=arguments[2];l&&(o=l.threshold,i=l.ignoreCase),void 0===o&&(o=0);for(var h=0;h<c;++h)(t=(e=i?r(a,u[h],!0):r(a,u[h]))>a.length?1-e/u[h].length:1-e/a.length)>s&&(s=t,n=u[h]);return s>=o?n:null}}}),j=v({"../node_modules/fast-deep-equal/index.js"(t,e){"use strict";e.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(o=n;0!=o--;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var s=i[o];if(!t(e[s],r[s]))return!1}return!0}return e!=e&&r!=r}}});y(exports,{getProject:()=>Ta,onChange:()=>Aa,types:()=>Vi,val:()=>Da});var S={};y(S,{getProject:()=>Ta,onChange:()=>Aa,types:()=>Vi,val:()=>Da});var O=m(require("@theatre/dataverse")),T=class{constructor(){_(this,"atom",new O.Atom({projects:{}}))}add(t,e){this.atom.reduceState(["projects",t],()=>e)}get(t){return this.atom.getState().projects[t]}has(t){return!!this.get(t)}},I=new T,x=I,k=new WeakMap;function A(t){return k.get(t)}function D(t,e){k.set(t,e)}var C=[],B=Array.isArray,V=B,$="object"==typeof window&&window&&window.Object===Object&&window,F=$,q="object"==typeof self&&self&&self.Object===Object&&self,M=F||q||Function("return this")(),E=M,N=E.Symbol,R=N,z=Object.prototype,U=z.hasOwnProperty,K=z.toString,G=R?R.toStringTag:void 0;function W(t){var e=U.call(t,G),r=t[G];try{t[G]=void 0;var n=!0}catch(i){}var o=K.call(t);return n&&(e?t[G]=r:delete t[G]),o}var X=W,L=Object.prototype,J=L.toString;function H(t){return J.call(t)}var Y=H,Q="[object Null]",Z="[object Undefined]",tt=R?R.toStringTag:void 0;function et(t){return null==t?void 0===t?Z:Q:tt&&tt in Object(t)?X(t):Y(t)}var rt=et;function nt(t){return null!=t&&"object"==typeof t}var ot=nt,it="[object Symbol]";function st(t){return"symbol"==typeof t||ot(t)&&rt(t)==it}var at=st,ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ct=/^\w*$/;function lt(t,e){if(V(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!at(t))||(ct.test(t)||!ut.test(t)||null!=e&&t in Object(e))}var ht=lt;function pt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var ft=pt,dt="[object AsyncFunction]",vt="[object Function]",yt="[object GeneratorFunction]",gt="[object Proxy]";function mt(t){if(!ft(t))return!1;var e=rt(t);return e==vt||e==yt||e==dt||e==gt}var _t=mt,bt=E["__core-js_shared__"],Pt=bt,wt=function(){var t=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function jt(t){return!!wt&&wt in t}var St=jt,Ot=Function.prototype,Tt=Ot.toString;function It(t){if(null!=t){try{return Tt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var xt=It,kt=/[\\^$.*+?()[\]{}|]/g,At=/^\[object .+?Constructor\]$/,Dt=Function.prototype,Ct=Object.prototype,Bt=Dt.toString,Vt=Ct.hasOwnProperty,$t=RegExp("^"+Bt.call(Vt).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ft(t){return!(!ft(t)||St(t))&&(_t(t)?$t:At).test(xt(t))}var qt=Ft;function Mt(t,e){return null==t?void 0:t[e]}var Et=Mt;function Nt(t,e){var r=Et(t,e);return qt(r)?r:void 0}var Rt=Nt,zt=Rt(Object,"create"),Ut=zt;function Kt(){this.__data__=Ut?Ut(null):{},this.size=0}var Gt=Kt;function Wt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Xt=Wt,Lt="__lodash_hash_undefined__",Jt=Object.prototype,Ht=Jt.hasOwnProperty;function Yt(t){var e=this.__data__;if(Ut){var r=e[t];return r===Lt?void 0:r}return Ht.call(e,t)?e[t]:void 0}var Qt=Yt,Zt=Object.prototype,te=Zt.hasOwnProperty;function ee(t){var e=this.__data__;return Ut?void 0!==e[t]:te.call(e,t)}var re=ee,ne="__lodash_hash_undefined__";function oe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ut&&void 0===e?ne:e,this}var ie=oe;function se(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}se.prototype.clear=Gt,se.prototype.delete=Xt,se.prototype.get=Qt,se.prototype.has=re,se.prototype.set=ie;var ae=se;function ue(){this.__data__=[],this.size=0}var ce=ue;function le(t,e){return t===e||t!=t&&e!=e}var he=le;function pe(t,e){for(var r=t.length;r--;)if(he(t[r][0],e))return r;return-1}var fe=pe,de=Array.prototype,ve=de.splice;function ye(t){var e=this.__data__,r=fe(e,t);return!(r<0)&&(r==e.length-1?e.pop():ve.call(e,r,1),--this.size,!0)}var ge=ye;function me(t){var e=this.__data__,r=fe(e,t);return r<0?void 0:e[r][1]}var _e=me;function be(t){return fe(this.__data__,t)>-1}var Pe=be;function we(t,e){var r=this.__data__,n=fe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var je=we;function Se(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Se.prototype.clear=ce,Se.prototype.delete=ge,Se.prototype.get=_e,Se.prototype.has=Pe,Se.prototype.set=je;var Oe=Se,Te=Rt(E,"Map"),Ie=Te;function xe(){this.size=0,this.__data__={hash:new ae,map:new(Ie||Oe),string:new ae}}var ke=xe;function Ae(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var De=Ae;function Ce(t,e){var r=t.__data__;return De(e)?r["string"==typeof e?"string":"hash"]:r.map}var Be=Ce;function Ve(t){var e=Be(this,t).delete(t);return this.size-=e?1:0,e}var $e=Ve;function Fe(t){return Be(this,t).get(t)}var qe=Fe;function Me(t){return Be(this,t).has(t)}var Ee=Me;function Ne(t,e){var r=Be(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Re=Ne;function ze(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ze.prototype.clear=ke,ze.prototype.delete=$e,ze.prototype.get=qe,ze.prototype.has=Ee,ze.prototype.set=Re;var Ue=ze,Ke="Expected a function";function Ge(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Ke);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=t.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(Ge.Cache||Ue),r}Ge.Cache=Ue;var We=Ge,Xe=500;function Le(t){var e=We(t,function(t){return r.size===Xe&&r.clear(),t}),r=e.cache;return e}var Je=Le,He=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ye=/\\(\\)?/g,Qe=Je(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(He,function(t,r,n,o){e.push(n?o.replace(Ye,"$1"):r||t)}),e}),Ze=Qe;function tr(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var er=tr,rr=1/0,nr=R?R.prototype:void 0,or=nr?nr.toString:void 0;function ir(t){if("string"==typeof t)return t;if(V(t))return er(t,ir)+"";if(at(t))return or?or.call(t):"";var e=t+"";return"0"==e&&1/t==-rr?"-0":e}var sr=ir;function ar(t){return null==t?"":sr(t)}var ur=ar;function cr(t,e){return V(t)?t:ht(t,e)?[t]:Ze(ur(t))}var lr=cr,hr=1/0;function pr(t){if("string"==typeof t||at(t))return t;var e=t+"";return"0"==e&&1/t==-hr?"-0":e}var fr=pr;function dr(t,e){for(var r=0,n=(e=lr(e,t)).length;null!=t&&r<n;)t=t[fr(e[r++])];return r&&r==n?t:void 0}var vr=dr;function yr(t,e,r){var n=null==t?void 0:vr(t,e);return void 0===n?r:n}var gr=yr;function mr(t,e){return 0===e.length?t:gr(t,e)}var _r=class{constructor(){_(this,"_values",{})}get(t,e){if(this.has(t))return this._values[t];{const r=e();return this._values[t]=r,r}}has(t){return this._values.hasOwnProperty(t)}},br=m(require("@theatre/dataverse")),Pr=function(){try{var t=Rt(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),wr=Pr;function jr(t,e,r){"__proto__"==e&&wr?wr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Sr=jr,Or=Object.prototype,Tr=Or.hasOwnProperty;function Ir(t,e,r){var n=t[e];Tr.call(t,e)&&he(n,r)&&(void 0!==r||e in t)||Sr(t,e,r)}var xr=Ir,kr=9007199254740991,Ar=/^(?:0|[1-9]\d*)$/;function Dr(t,e){var r=typeof t;return!!(e=null==e?kr:e)&&("number"==r||"symbol"!=r&&Ar.test(t))&&t>-1&&t%1==0&&t<e}var Cr=Dr;function Br(t,e,r,n){if(!ft(t))return t;for(var o=-1,i=(e=lr(e,t)).length,s=i-1,a=t;null!=a&&++o<i;){var u=fr(e[o]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=s){var l=a[u];void 0===(c=n?n(l,u,a):void 0)&&(c=ft(l)?l:Cr(e[o+1])?[]:{})}xr(a,u,c),a=a[u]}return t}var Vr=Br;function $r(t,e,r){return null==t?t:Vr(t,e,r)}var Fr=$r,qr=new WeakMap;function Mr(t){return Er(t)}function Er(t){if(qr.has(t))return qr.get(t);const e="compound"===t.type?Rr(t):"enum"===t.type?Nr(t):t.default;return qr.set(t,e),e}function Nr(t){const e={$case:t.defaultCase};for(const[r,n]of Object.entries(t.cases))e[r]=Er(n);return e}function Rr(t){const e={};for(const[r,n]of Object.entries(t.props))e[r]=Er(n);return e}var zr=m(require("@theatre/dataverse")),Ur={log:console.log,warn:console.warn,error:console.error,trace:console.trace},Kr=Ur,Gr=m(b());function Wr(t,e){return(0,zr.prism)(()=>{const r=(0,zr.val)(t);return zr.prism.memo("driver",()=>r?"BasicKeyframedTrack"===r.type?Xr(r,e):(Kr.error("Track type not yet supported."),new zr.ConstantDerivation(void 0)):new zr.ConstantDerivation(void 0),[r]).getValue()})}function Xr(t,e){return(0,zr.prism)(()=>{let r=zr.prism.ref("state",{started:!1}),n=r.current;const o=e.getValue();return(!n.started||o<n.validFrom||n.validTo<=o)&&(r.current=n=Jr(e,t)),n.der.getValue()})}var Lr=new zr.ConstantDerivation(void 0),Jr=(t,e)=>{const r=t.getValue();if(0===e.keyframes.length)return{started:!0,validFrom:-1/0,validTo:1/0,der:Lr};let n=0;for(;;){const o=e.keyframes[n];if(!o)return Hr.error;const i=n===e.keyframes.length-1;if(r<o.position)return 0===n?Hr.beforeFirstKeyframe(o):Hr.error;if(o.position===r)return i?Hr.lastKeyframe(o):Hr.between(o,e.keyframes[n+1],t);if(n===e.keyframes.length-1)return Hr.lastKeyframe(o);{const i=n+1;if(e.keyframes[i].position<=r){n=i;continue}return Hr.between(o,e.keyframes[n+1],t)}}},Hr={beforeFirstKeyframe:t=>({started:!0,validFrom:-1/0,validTo:t.position,der:new zr.ConstantDerivation(t.value)}),lastKeyframe:t=>({started:!0,validFrom:t.position,validTo:1/0,der:new zr.ConstantDerivation(t.value)}),between(t,e,r){if(!t.connectedRight)return{started:!0,validFrom:t.position,validTo:e.position,der:new zr.ConstantDerivation(t.value)};const n=new Gr.default(t.handles[2],t.handles[3],e.handles[0],e.handles[1]),o=(0,zr.prism)(()=>{const o=(r=>(r-t.position)/(e.position-t.position))(r.getValue()),i=n.solveSimple(o);return t.value+i*(e.value-t.value)});return{started:!0,validFrom:t.position,validTo:e.position,der:o}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:Lr}};function Yr(t,e,r){const n=r.get(t);if(n&&n.override===e)return n.merged;const o=h({},t);for(const i of Object.keys(e)){const n=e[i],s=t[i];o[i]="object"==typeof n&&"object"==typeof s?Yr(s,n,r):void 0===n?s:n}return r.set(t,{override:e,merged:o}),o}function Qr(t,e){let r=t;for(const n of e)r=r[n];return r}var Zr=m(require("@theatre/dataverse")),tn=(t,e)=>{const r=Zr.prism.memo(t,()=>new Zr.Atom(e),[]);return r.setState(e),r},en=m(require("@theatre/dataverse")),rn=m(require("@theatre/dataverse")),nn=new rn.Ticker,on=nn,sn=t=>{nn.tick(t),window.requestAnimationFrame(sn)};window.requestAnimationFrame(sn);var an=m(require("@theatre/dataverse")),un=class{constructor(t){_(this,"_cache",new _r),D(this,t)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return A(this).propsP}get sheet(){return A(this).sheet.publicApi}get project(){return A(this).sheet.project.publicApi}get address(){return h({},A(this).address)}_valuesDerivation(){return this._cache.get("onValuesChangeDerivation",()=>{const t=A(this);return(0,an.prism)(()=>(0,an.val)(t.getValues().getValue()))})}onValuesChange(t){return this._valuesDerivation().tapImmediate(on,t)}get value(){return this._valuesDerivation().getValue()}set initialValue(t){A(this).setInitialValue(t)}},cn=class{constructor(t,e,r){this.sheet=t,this.template=e,this.nativeObject=r,_(this,"$$isIdentityDerivationProvider",!0),_(this,"address"),_(this,"publicApi"),_(this,"_initialValue",new en.Atom({})),_(this,"_cache",new _r),this.address=p(h({},e.address),{sheetInstanceId:t.address.sheetInstanceId}),this.publicApi=new un(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>(0,en.prism)(()=>{const t=Yr((0,en.val)(this.template.getDefaultValues()),(0,en.val)(this._initialValue.pointer),en.prism.memo("withInitialCache",()=>new WeakMap,[]));let e,r=Yr(t,(0,en.val)(this.template.getStaticValues()),en.prism.memo("withStatics",()=>new WeakMap,[]));{const t=en.prism.memo("seq",()=>this.getSequencedValues(),[]),n=en.prism.memo("withSeqsCache",()=>new WeakMap,[]);r=Yr(r,e=(0,en.val)((0,en.val)(t)),n)}return tn("finalAtom",r).pointer}))}getValueByPointer(t){const e=(0,en.val)(this.getValues()),{path:r}=(0,en.getPointerParts)(t);return(0,en.val)(Qr(e,r))}getIdentityDerivation(t){return(0,en.prism)(()=>{const e=(0,en.val)(this.getValues());return(0,en.val)(Qr(e,t))})}getSequencedValues(){return(0,en.prism)(()=>{const t=en.prism.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),e=(0,en.val)(t),r=new en.Atom({});return en.prism.effect("processTracks",()=>{const t=[];for(const{trackId:n,pathToProp:o}of e){const e=this._trackIdToDerivation(n),i=()=>{r.setIn(o,e.getValue())},s=e.changesWithoutValues().tap(i);i(),t.push(s)}return()=>{for(const e of t)e()}},e),r.pointer})}_trackIdToDerivation(t){return Wr(this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[t],this.sheet.getSequence().positionDerivation)}get propsP(){return this._cache.get("propsP",()=>(0,en.pointer)({root:this,path:[]}))}validateValue(t,e){}setInitialValue(t){this.validateValue(this.propsP,t),this._initialValue.setState(t)}},ln=class{constructor(t,e,r,n){this.sheetTemplate=t,_(this,"address"),_(this,"type","Theatre_SheetObjectTemplate"),_(this,"_config"),_(this,"_cache",new _r),_(this,"project"),this.address=p(h({},t.address),{objectKey:e}),this._config=new br.Atom(n),this.project=t.project}get config(){return this._config.getState()}createInstance(t,e,r){return this._config.setState(r),new cn(t,this,e)}overrideConfig(t){this._config.setState(t)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>(0,br.prism)(()=>{return Mr((0,br.val)(this._config.pointer))}))}getStaticValues(){return this._cache.get("getDerivationOfStatics",()=>(0,br.prism)(()=>{const t=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId];return(0,br.val)(t.staticOverrides.byObject[this.address.objectKey])||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>(0,br.prism)(()=>{const t=(0,br.val)(this.getDefaultValues()),e=this.project.pointers.historic.sheetsById[this.address.sheetId],r=(0,br.val)(e.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath),n=[];if(!r)return C;for(const[i,s]of Object.entries(r)){let e;try{e=JSON.parse(i)}catch(o){Kr.warn(`property ${JSON.stringify(i)} cannot be parsed. Skipping.`);continue}"number"==typeof gr(t,e)&&n.push({pathToProp:e,trackId:s})}return 0===n.length?C:n}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>this.getArrayOfValidSequenceTracks().map(t=>{let e={};for(const{pathToProp:r,trackId:n}of t)Fr(e,r,n);return e}))}getDefaultsAtPointer(t){const{path:e}=(0,br.getPointerParts)(t);return mr(this.getDefaultValues().getValue(),e)}},hn=m(require("@theatre/dataverse")),pn=m(w());function fn(t,e,r="Did you mean ",n="?"){const o=(0,pn.default)(t,e,{threshold:.7});return o?r+JSON.stringify(o)+n:""}var dn=class extends Error{},vn=class extends dn{},yn=m(require("@theatre/dataverse")),gn=m(require("@theatre/dataverse")),mn=/\s/;function _n(t){for(var e=t.length;e--&&mn.test(t.charAt(e)););return e}var bn=_n,Pn=/^\s+/;function wn(t){return t?t.slice(0,bn(t)+1).replace(Pn,""):t}var jn=wn,Sn=NaN,On=/^[-+]0x[0-9a-f]+$/i,Tn=/^0b[01]+$/i,In=/^0o[0-7]+$/i,xn=parseInt;function kn(t){if("number"==typeof t)return t;if(at(t))return Sn;if(ft(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ft(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=jn(t);var r=Tn.test(t);return r||In.test(t)?xn(t.slice(2),r?2:8):On.test(t)?Sn:+t}var An=kn,Dn=1/0,Cn=1.7976931348623157e308;function Bn(t){return t?(t=An(t))===Dn||t===-Dn?(t<0?-1:1)*Cn:t==t?t:0:0===t?t:0}var Vn=Bn;function $n(t){var e=Vn(t),r=e%1;return e==e?r?e-r:e:0}var Fn=$n;function qn(t,e){return function(r){return t(e(r))}}var Mn=qn,En=Mn(Object.getPrototypeOf,Object),Nn=En,Rn="[object Object]",zn=Function.prototype,Un=Object.prototype,Kn=zn.toString,Gn=Un.hasOwnProperty,Wn=Kn.call(Object);function Xn(t){if(!ot(t)||rt(t)!=Rn)return!1;var e=Nn(t);if(null===e)return!0;var r=Gn.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Kn.call(r)==Wn}var Ln=Xn;function Jn(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}var Hn=Jn;function Yn(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:Hn(t,e,r)}var Qn=Yn,Zn="\\ud800-\\udfff",to="\\u0300-\\u036f",eo="\\ufe20-\\ufe2f",ro="\\u20d0-\\u20ff",no=to+eo+ro,oo="\\ufe0e\\ufe0f",io="\\u200d",so=RegExp("["+io+Zn+no+oo+"]");function ao(t){return so.test(t)}var uo=ao;function co(t){return t.split("")}var lo=co,ho="\\ud800-\\udfff",po="\\u0300-\\u036f",fo="\\ufe20-\\ufe2f",vo="\\u20d0-\\u20ff",yo=po+fo+vo,go="\\ufe0e\\ufe0f",mo="["+ho+"]",_o="["+yo+"]",bo="\\ud83c[\\udffb-\\udfff]",Po="(?:"+_o+"|"+bo+")",wo="[^"+ho+"]",jo="(?:\\ud83c[\\udde6-\\uddff]){2}",So="[\\ud800-\\udbff][\\udc00-\\udfff]",Oo="\\u200d",To=Po+"?",Io="["+go+"]?",xo="(?:"+Oo+"(?:"+[wo,jo,So].join("|")+")"+Io+To+")*",ko=Io+To+xo,Ao="(?:"+[wo+_o+"?",_o,jo,So,mo].join("|")+")",Do=RegExp(bo+"(?="+bo+")|"+Ao+ko,"g");function Co(t){return t.match(Do)||[]}var Bo=Co;function Vo(t){return uo(t)?Bo(t):lo(t)}var $o=Vo;function Fo(t){return function(e){return null==e?void 0:e[t]}}var qo=Fo,Mo=9007199254740991,Eo=Math.floor;function No(t,e){var r="";if(!t||e<1||e>Mo)return r;do{e%2&&(r+=t),(e=Eo(e/2))&&(t+=t)}while(e);return r}var Ro=No,zo=qo("length"),Uo=zo,Ko="\\ud800-\\udfff",Go="\\u0300-\\u036f",Wo="\\ufe20-\\ufe2f",Xo="\\u20d0-\\u20ff",Lo=Go+Wo+Xo,Jo="\\ufe0e\\ufe0f",Ho="["+Ko+"]",Yo="["+Lo+"]",Qo="\\ud83c[\\udffb-\\udfff]",Zo="(?:"+Yo+"|"+Qo+")",ti="[^"+Ko+"]",ei="(?:\\ud83c[\\udde6-\\uddff]){2}",ri="[\\ud800-\\udbff][\\udc00-\\udfff]",ni="\\u200d",oi=Zo+"?",ii="["+Jo+"]?",si="(?:"+ni+"(?:"+[ti,ei,ri].join("|")+")"+ii+oi+")*",ai=ii+oi+si,ui="(?:"+[ti+Yo+"?",Yo,ei,ri,Ho].join("|")+")",ci=RegExp(Qo+"(?="+Qo+")|"+ui+ai,"g");function li(t){for(var e=ci.lastIndex=0;ci.test(t);)++e;return e}var hi=li;function pi(t){return uo(t)?hi(t):Uo(t)}var fi=pi,di=Math.ceil;function vi(t,e){var r=(e=void 0===e?" ":sr(e)).length;if(r<2)return r?Ro(e,t):e;var n=Ro(e,di(t/fi(e)));return uo(e)?Qn($o(n),0,t).join(""):n.slice(0,t)}var yi=vi;function gi(t,e,r){t=ur(t);var n=(e=Fn(e))?fi(t):0;return e&&n<e?yi(e-n,r)+t:t}var mi=gi;function _i(){let t,e;const r=new Promise((r,o)=>{t=(t=>{r(t),n.status="resolved"}),e=(t=>{o(t),n.status="rejected"})}),n={resolve:t,reject:e,promise:r,status:"pending"};return n}var bi=()=>{},Pi=bi,wi=m(require("@theatre/dataverse")),ji=class{constructor(t){this._ticker=t,_(this,"_stopPlayCallback",Pi),_(this,"_state",new wi.Atom({position:0,playing:!1})),_(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=Pi}gotoPosition(t){this._updatePositionInState(t)}_updatePositionInState(t){this._state.reduceState(["position"],()=>t)}getCurrentPosition(){return this._state.getState().position}get playing(){return this._state.getState().playing}set playing(t){this._state.setIn(["playing"],t)}play(t,e,r,n){this.playing&&this.pause(),this.playing=!0;const o=this._ticker,i=e[1]-e[0];{const t=this.getCurrentPosition();t<e[0]||t>e[1]?"normal"===n||"alternate"===n?this._updatePositionInState(e[0]):"reverse"!==n&&"alternateReverse"!==n||this._updatePositionInState(e[1]):"normal"===n||"alternate"===n?t===e[1]&&this._updatePositionInState(e[0]):t===e[0]&&this._updatePositionInState(e[1])}const s=_i(),a=o.time,u=i*t;let c=this.getCurrentPosition()-e[0];"reverse"!==n&&"alternateReverse"!==n||(c=e[1]-this.getCurrentPosition());const l=o=>{const l=Math.max(o-a,0)/1e3,p=Math.min(l*r+c,u);if(p!==u){const t=Math.floor(p/i);let r=p/i%1*i;if("normal"!==n)if("reverse"===n)r=i-r;else{const e=t%2==0;"alternate"===n?e||(r=i-r):e&&(r=i-r)}this._updatePositionInState(r+e[0]),h()}else{if("normal"===n)this._updatePositionInState(e[1]);else if("reverse"===n)this._updatePositionInState(e[0]);else{const r=(t-1)%2==0;"alternate"===n?r?this._updatePositionInState(e[1]):this._updatePositionInState(e[0]):r?this._updatePositionInState(e[0]):this._updatePositionInState(e[1])}this.playing=!1,s.resolve(!0)}};this._stopPlayCallback=(()=>{o.offThisOrNextTick(l),o.offNextTick(l),this.playing&&s.resolve(!1)});const h=()=>o.onNextTick(l);return o.onThisOrNextTick(l),s.promise}},Si=m(require("@theatre/dataverse")),Oi=class{constructor(t,e,r,n){this._ticker=t,this._decodedBuffer=e,this._audioContext=r,this._nodeDestination=n,_(this,"_mainGain"),_(this,"_state",new Si.Atom({position:0,playing:!1})),_(this,"statePointer"),_(this,"_stopPlayCallback",Pi),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}get _playing(){return this._state.getState().playing}set _playing(t){this._state.setIn(["playing"],t)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=Pi}gotoPosition(t){this._updatePositionInState(t)}_updatePositionInState(t){this._state.reduceState(["position"],()=>t)}getCurrentPosition(){return this._state.getState().position}play(t,e,r,n){this._playing&&this.pause(),this._playing=!0;const o=this._ticker;let i=this.getCurrentPosition();const s=e[1]-e[0];if("normal"!==n)throw new vn(`Audio-controlled sequences can only be played in the "normal" direction. '${n}' given.`);i<e[0]||i>e[1]?this._updatePositionInState(e[0]):i===e[1]&&this._updatePositionInState(e[0]),i=this.getCurrentPosition();const a=_i(),u=this._audioContext.createBufferSource();u.buffer=this._decodedBuffer,u.connect(this._mainGain),u.playbackRate.value=r,t>1e3&&(console.warn("Audio-controlled sequences cannot have an iterationCount larger than 1000. It has been clamped to 1000."),t=1e3),t>1&&(u.loop=!0,u.loopStart=e[0],u.loopEnd=e[1]);const c=o.time;let l=i-e[0];const h=s*t;u.start(0,i,h-l);const p=t=>{const n=Math.max(t-c,0)/1e3,o=Math.min(n*r+l,h);if(o!==h){let t=o/s%1*s;this._updatePositionInState(t+e[0]),d()}else this._updatePositionInState(e[1]),this._playing=!1,f(),a.resolve(!0)},f=()=>{u.stop(),u.disconnect()};this._stopPlayCallback=(()=>{f(),o.offThisOrNextTick(p),o.offNextTick(p),this._playing&&a.resolve(!1)});const d=()=>o.onNextTick(p);return o.onThisOrNextTick(p),a.promise}},Ti=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(t){D(this,t)}play(t){if(A(this)._project.isReady())return A(this).play(t);{0;const t=_i();return t.resolve(!0),t.promise}}pause(){A(this).pause()}get position(){return A(this).position}set position(t){A(this).position=t}async attachAudio(t){const{audioContext:e,destinationNode:r,decodedBuffer:n,gainNode:o}=await Ii(t),i=new Oi(on,n,e,o);return A(this).replacePlaybackController(i),{audioContext:e,destinationNode:r,decodedBuffer:n,gainNode:o}}get pointer(){return A(this).pointer}};async function Ii(t){const e=function(){if(t.audioContext)return Promise.resolve(t.audioContext);const e=new AudioContext;return"running"===e.state?Promise.resolve(e):new Promise(t=>{const r=()=>{e.resume()},n=["mousedown","keydown","touchstart"],o={capture:!0,passive:!1};n.forEach(t=>{window.addEventListener(t,r,o)}),e.addEventListener("statechange",()=>{"running"===e.state&&(n.forEach(t=>{window.removeEventListener(t,r,o)}),t(e))})})}(),r=async function(){if(t.source instanceof AudioBuffer)return t.source;const r=_i();if("string"!=typeof t.source)throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let n,o,i;try{n=await fetch(t.source)}catch(s){throw console.error(s),new Error(`Could not fetch '${t.source}'. Network error logged above.`)}try{o=await n.arrayBuffer()}catch(s){throw console.error(s),new Error(`Could not read '${t.source}' as an arrayBuffer.`)}(await e).decodeAudioData(o,r.resolve,r.reject);try{i=await r.promise}catch(s){throw console.error(s),new Error(`Could not decode ${t.source} as an audio file.`)}return i}(),[n,o]=await Promise.all([e,r]),i=t.destinationNode||n.destination,s=n.createGain();return s.connect(i),{audioContext:n,decodedBuffer:o,gainNode:s,destinationNode:i}}var xi=["normal","reverse","alternate","alternateReverse"],ki=class{constructor(t,e,r,n,o){this._project=t,this._sheet=e,this._lengthD=r,this._subUnitsPerUnitD=n,_(this,"address"),_(this,"publicApi"),_(this,"_playbackControllerBox"),_(this,"_statePointerDerivation"),_(this,"_positionD"),_(this,"_positionFormatterD"),_(this,"_playableRangeD"),_(this,"pointer",(0,yn.pointer)({root:this,path:[]})),_(this,"$$isIdentityDerivationProvider",!0),_(this,"closestGridPosition",t=>{const e=1/this.subUnitsPerUnit;return parseFloat((Math.round(t/e)*e).toFixed(3))}),this.address=p(h({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new Ti(this),this._playbackControllerBox=new gn.Box(null!=o?o:new ji(on)),this._statePointerDerivation=this._playbackControllerBox.derivation.map(t=>t.statePointer),this._positionD=this._statePointerDerivation.flatMap(t=>(0,gn.valueDerivation)(t.position)),this._positionFormatterD=this._subUnitsPerUnitD.map(t=>new Ai(t))}getIdentityDerivation(t){if(0===t.length)return(0,gn.prism)(()=>({length:(0,gn.val)(this.pointer.length),playing:(0,gn.val)(this.pointer.playing),position:(0,gn.val)(this.pointer.position)}));if(t.length>1)return(0,gn.prism)(()=>void 0);const[e]=t;return"length"===e?this._lengthD:"position"===e?this._positionD:"playing"===e?(0,gn.prism)(()=>(0,gn.val)(this._statePointerDerivation.getValue().playing)):(0,gn.prism)(()=>void 0)}get positionFormatter(){return this._positionFormatterD.getValue()}get derivationToStatePointer(){return this._statePointerDerivation}get length(){return this._lengthD.getValue()}get positionDerivation(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(t){let e=t;this.pause(),e>this.length&&(e=this.length);const r=this.length;this._playbackControllerBox.get().gotoPosition(e>r?r:e)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,gn.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,gn.prism)(()=>[0,(0,gn.val)(this._lengthD)])}async play(t){const e=this.length,r=t&&t.range?t.range:[0,e];const n=t&&"number"==typeof t.iterationCount?t.iterationCount:1;const o=t&&void 0!==t.rate?t.rate:1;const i=t&&t.direction?t.direction:"normal";return await this._play(n,[r[0],r[1]],o,i)}_play(t,e,r,n){return this._playbackControllerBox.get().play(t,e,r,n)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(t){this.pause();const e=this._playbackControllerBox.get();this._playbackControllerBox.set(t);const r=e.getCurrentPosition();e.destroy(),t.gotoPosition(r)}},Ai=class{constructor(t){this._fps=t}formatSubUnitForGrid(t){const e=t%1,r=1/this._fps;return Math.round(e/r)+"f"}formatFullUnitForGrid(t){let e=t,r="";if(e>=Bi){r+=Math.floor(e/Bi)+"h",e%=Bi}if(e>=Ci){r+=Math.floor(e/Ci)+"m",e%=Ci}if(e>=Di){r+=Math.floor(e/Di)+"s",e%=Di}const n=1/this._fps;if(e>=n){r+=Math.floor(e/n)+"f",e%=n}return 0===r.length?"0s":r}formatForPlayhead(t){let e=t,r="";if(e>=Bi){const t=Math.floor(e/Bi);r+=mi(t.toString(),2,"0")+"h",e%=Bi}if(e>=Ci){const t=Math.floor(e/Ci);r+=mi(t.toString(),2,"0")+"m",e%=Ci}else r.length>0&&(r+="00m");if(e>=Di){const t=Math.floor(e/Di);r+=mi(t.toString(),2,"0")+"s",e%=Di}else r+="00s";const n=1/this._fps;if(e>=n){const t=Math.round(e/n);r+=mi(t.toString(),2,"0")+"f",e%=n}else if(e/n>.98){r+=mi(1..toString(),2,"0")+"f",e%=n}else r+="00f";return 0===r.length?"00s00f":r}formatBasic(t){return t.toFixed(2)+"s"}},Di=1,Ci=60*Di,Bi=60*Ci,Vi={};function $i(t,e){return t.length<=e?t:t.substr(0,e-3)+"..."}y(Vi,{boolean:()=>Gi,compound:()=>Ui,number:()=>Ki,string:()=>Wi,stringLiteral:()=>Xi});var Fi=t=>"string"==typeof t?`string("${$i(t,10)}")`:"number"==typeof t?`number(${$i(String(t),10)})`:null===t?"null":void 0===t?"undefined":"boolean"==typeof t?String(t):Array.isArray(t)?"array":"object"==typeof t?"object":"unknown",qi=Fi,Mi=Symbol("TheatrePropType_Basic");function Ei(t){return"object"==typeof t&&!!t&&"TheatrePropType"===t[Mi]}function Ni(t){if("number"==typeof t)return Ki(t);if("boolean"==typeof t)return Gi(t);if("string"==typeof t)return Wi(t);if("object"==typeof t&&t){if(Ei(t))return t;if(Ln(t))return Ui(t);throw new vn(`This value is not a valid prop type: ${qi(t)}`)}throw new vn(`This value is not a valid prop type: ${qi(t)}`)}function Ri(t){const e={};for(const r of Object.keys(t)){0;const n=t[r];Ei(n)?e[r]=n:e[r]=Ni(n)}return e}var zi=(t,e)=>{0},Ui=(t,e)=>(zi("t.compound(props, opts)",e),{type:"compound",props:Ri(t),valueType:null,[Mi]:"TheatrePropType",label:null==e?void 0:e.label}),Ki=(t,e)=>{var r;return p(h({type:"number",valueType:0,default:t,[Mi]:"TheatrePropType"},e||{}),{label:null==e?void 0:e.label,nudgeFn:null!=(r=null==e?void 0:e.nudgeFn)?r:Li,nudgeMultiplier:"number"==typeof(null==e?void 0:e.nudgeMultiplier)?e.nudgeMultiplier:1})},Gi=(t,e)=>({type:"boolean",default:t,valueType:null,[Mi]:"TheatrePropType",label:null==e?void 0:e.label}),Wi=(t,e)=>({type:"string",default:t,valueType:null,[Mi]:"TheatrePropType",label:null==e?void 0:e.label});function Xi(t,e,r){var n;return{type:"stringLiteral",default:t,options:h({},e),[Mi]:"TheatrePropType",valueType:null,as:null!=(n=null==r?void 0:r.as)?n:"menu",label:null==r?void 0:r.label}}var Li=({config:t,deltaX:e,deltaFraction:r,magnitude:n})=>{const{range:o}=t;return o?r*(o[1]-o[0])*n*t.nudgeMultiplier:e*n*t.nudgeMultiplier},Ji=t=>t.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/," / "),Hi=t=>{if("string"!=typeof t)return`it is not a string. (it is a ${typeof t})`;const e=t.split(/\//);if(0===e.length)return"it is empty.";for(let r=0;r<e.length;r++){const t=e[r].trim();if(0===t.length)return`the component #${r+1} is empty.`;if(t.length>32)return`the component '${t}' must have 32 characters or less.`}};function Yi(t,e){const r=Ji(t);return r}var Qi,Zi,ts=m(j()),es=new WeakMap,rs=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(t){D(this,t)}object(t,e){const r=A(this),n=Yi(t,`sheet.object("${t}", ...)`),o=r.getObject(n);if(o)return o.publicApi;{const t=Ui(e),o=r.createObject(n,null,t);return o.publicApi}}get sequence(){return A(this).getSequence().publicApi}get project(){return A(this).project.publicApi}get address(){return h({},A(this).address)}},ns=m(require("@theatre/dataverse")),os=class{constructor(t,e){this.template=t,this.instanceId=e,_(this,"_objects",new ns.Atom({})),_(this,"_sequence"),_(this,"address"),_(this,"publicApi"),_(this,"project"),_(this,"objectsP",this._objects.pointer),_(this,"type","Theatre_Sheet"),this.project=t.project,this.address=p(h({},t.address),{sheetInstanceId:this.instanceId}),this.publicApi=new rs(this)}createObject(t,e,r){const n=this.template.getObjectTemplate(t,e,r).createInstance(this,e,r);return this._objects.setIn([t],n),n}getObject(t){return this._objects.getState()[t]}getSequence(){if(!this._sequence){const t=(0,ns.valueDerivation)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length).map(t=>"number"==typeof t?t:10),e=(0,ns.valueDerivation)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit).map(t=>"number"==typeof t?t:30);this._sequence=new ki(this.template.project,this,t,e)}return this._sequence}},is=class{constructor(t,e){this.project=t,_(this,"type","Theatre_SheetTemplate"),_(this,"address"),_(this,"_instances",new hn.Atom({})),_(this,"instancesP",this._instances.pointer),_(this,"_objectTemplates",new hn.Atom({})),_(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=p(h({},t.address),{sheetId:e})}getInstance(t){let e=this._instances.getState()[t];return e||(e=new os(this,t),this._instances.setIn([t],e)),e}getObjectTemplate(t,e,r){let n=this._objectTemplates.getState()[t];return n||(n=new ln(this,t,e,r),this._objectTemplates.setIn([t],n)),n}},ss=m(require("@theatre/dataverse")),as=m(require("@theatre/dataverse")),us=t=>new Promise(e=>setTimeout(e,t)),cs=us;function ls(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(t){return"'"+t+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function hs(t){return!!t&&!!t[Ys]}function ps(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===ta}(t)||Array.isArray(t)||!!t[Hs]||!!t.constructor[Hs]||bs(t)||Ps(t))}function fs(t){return hs(t)||ls(23,t),t[Ys].t}function ds(t,e,r){void 0===r&&(r=!1),0===vs(t)?(r?Object.keys:ea)(t).forEach(function(n){r&&"symbol"==typeof n||e(n,t[n],t)}):t.forEach(function(r,n){return e(n,r,t)})}function vs(t){var e=t[Ys];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:bs(t)?2:Ps(t)?3:0}function ys(t,e){return 2===vs(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function gs(t,e){return 2===vs(t)?t.get(e):t[e]}function ms(t,e,r){var n=vs(t);2===n?t.set(e,r):3===n?(t.delete(e),t.add(r)):t[e]=r}function _s(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function bs(t){return Ws&&t instanceof Map}function Ps(t){return Xs&&t instanceof Set}function ws(t){return t.o||t.t}function js(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ra(t);delete e[Ys];for(var r=ea(e),n=0;n<r.length;n++){var o=r[n],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function Ss(t,e){return void 0===e&&(e=!1),Ts(t)||hs(t)||!ps(t)?t:(vs(t)>1&&(t.set=t.add=t.clear=t.delete=Os),Object.freeze(t),e&&ds(t,function(t,e){return Ss(e,!0)},!0),t)}function Os(){ls(2)}function Ts(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function Is(t){var e=na[t];return e||ls(18,t),e}function xs(){return Zi}function ks(t,e){e&&(Is("Patches"),t.u=[],t.s=[],t.v=e)}function As(t){Ds(t),t.p.forEach(Bs),t.p=null}function Ds(t){t===Zi&&(Zi=t.l)}function Cs(t){return Zi={p:[],l:Zi,h:t,m:!0,_:0}}function Bs(t){var e=t[Ys];0===e.i||1===e.i?e.j():e.O=!0}function Vs(t,e){e._=e.p.length;var r=e.p[0],n=void 0!==t&&t!==r;return e.h.g||Is("ES5").S(e,t,n),n?(r[Ys].P&&(As(e),ls(4)),ps(t)&&(t=$s(e,t),e.l||qs(e,t)),e.u&&Is("Patches").M(r[Ys],t,e.u,e.s)):t=$s(e,r,[]),As(e),e.u&&e.v(e.u,e.s),t!==Js?t:void 0}function $s(t,e,r){if(Ts(e))return e;var n=e[Ys];if(!n)return ds(e,function(o,i){return Fs(t,n,e,o,i,r)},!0),e;if(n.A!==t)return e;if(!n.P)return qs(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=js(n.k):n.o;ds(3===n.i?new Set(o):o,function(e,i){return Fs(t,n,o,e,i,r)}),qs(t,o,!1),r&&t.u&&Is("Patches").R(n,r,t.u,t.s)}return n.o}function Fs(t,e,r,n,o,i){if(hs(o)){var s=$s(t,o,i&&e&&3!==e.i&&!ys(e.D,n)?i.concat(n):void 0);if(ms(r,n,s),!hs(s))return;t.m=!1}if(ps(o)&&!Ts(o)){if(!t.h.F&&t._<1)return;$s(t,o),e&&e.A.l||qs(t,o)}}function qs(t,e,r){void 0===r&&(r=!1),t.h.F&&t.m&&Ss(e,r)}function Ms(t,e){var r=t[Ys];return(r?ws(r):t)[e]}function Es(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Ns(t){t.P||(t.P=!0,t.l&&Ns(t.l))}function Rs(t){t.o||(t.o=js(t.t))}function zs(t,e,r){var n=bs(e)?Is("MapSet").N(e,r):Ps(e)?Is("MapSet").T(e,r):t.g?function(t,e){var r=Array.isArray(t),n={i:r?1:0,A:e?e.A:xs(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},o=n,i=oa;r&&(o=[n],i=ia);var s=Proxy.revocable(o,i),a=s.revoke,u=s.proxy;return n.k=u,n.j=a,u}(e,r):Is("ES5").J(e,r);return(r?r.A:xs()).p.push(n),n}function Us(t){return hs(t)||ls(22,t),function t(e){if(!ps(e))return e;var r,n=e[Ys],o=vs(e);if(n){if(!n.P&&(n.i<4||!Is("ES5").K(n)))return n.t;n.I=!0,r=Ks(e,o),n.I=!1}else r=Ks(e,o);return ds(r,function(e,o){n&&gs(n.t,e)===o||ms(r,e,t(o))}),3===o?new Set(r):r}(t)}function Ks(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return js(t)}var Gs="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Ws="undefined"!=typeof Map,Xs="undefined"!=typeof Set,Ls="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Js=Gs?Symbol.for("immer-nothing"):((Qi={})["immer-nothing"]=!0,Qi),Hs=Gs?Symbol.for("immer-draftable"):"__$immer_draftable",Ys=Gs?Symbol.for("immer-state"):"__$immer_state",Qs="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Zs={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(t){return"Cannot apply patch, path doesn't resolve: "+t},16:'Sets cannot have "replace" patches.',17:function(t){return"Unsupported patch operation: "+t},18:function(t){return"The plugin for '"+t+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+t+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(t){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+t+"'"},22:function(t){return"'current' expects a draft, got: "+t},23:function(t){return"'original' expects a draft, got: "+t},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},ta=""+Object.prototype.constructor,ea="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ra=Object.getOwnPropertyDescriptors||function(t){var e={};return ea(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},na={},oa={get:function(t,e){if(e===Ys)return t;var r,n,o,i=ws(t);if(!ys(i,e))return r=t,(o=Es(i,e))?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(r.k):void 0;var s=i[e];return t.I||!ps(s)?s:s===Ms(t.t,e)?(Rs(t),t.o[e]=zs(t.A.h,s,t)):s},has:function(t,e){return e in ws(t)},ownKeys:function(t){return Reflect.ownKeys(ws(t))},set:function(t,e,r){var n=Es(ws(t),e);if(null==n?void 0:n.set)return n.set.call(t.k,r),!0;if(!t.P){var o=Ms(ws(t),e),i=null==o?void 0:o[Ys];if(i&&i.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(_s(r,o)&&(void 0!==r||ys(t.t,e)))return!0;Rs(t),Ns(t)}return t.o[e]===r&&"number"!=typeof r&&(void 0!==r||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==Ms(t.t,e)||e in t.t?(t.D[e]=!1,Rs(t),Ns(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=ws(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:n.enumerable,value:r[e]}:n},defineProperty:function(){ls(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ls(12)}},ia={};ds(oa,function(t,e){ia[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ia.deleteProperty=function(t,e){return oa.deleteProperty.call(this,t[0],e)},ia.set=function(t,e,r){return oa.set.call(this,t[0],e,r,t[0])};var sa=function(){function t(t){var e=this;this.g=Ls,this.F=!0,this.produce=function(t,r,n){if("function"==typeof t&&"function"!=typeof r){var o=r;r=t;var i=e;return function(t){var e=this;void 0===t&&(t=o);for(var n=arguments.length,s=Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return i.produce(t,function(t){var n;return(n=r).call.apply(n,[e,t].concat(s))})}}var s;if("function"!=typeof r&&ls(6),void 0!==n&&"function"!=typeof n&&ls(7),ps(t)){var a=Cs(e),u=zs(e,t,void 0),c=!0;try{s=r(u),c=!1}finally{c?As(a):Ds(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then(function(t){return ks(a,n),Vs(t,a)},function(t){throw As(a),t}):(ks(a,n),Vs(s,a))}if(!t||"object"!=typeof t){if((s=r(t))===Js)return;return void 0===s&&(s=t),e.F&&Ss(s,!0),s}ls(21,t)},this.produceWithPatches=function(t,r){return"function"==typeof t?function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.produceWithPatches(r,function(e){return t.apply(void 0,[e].concat(o))})}:[e.produce(t,r,function(t,e){n=t,o=e}),n,o];var n,o},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){ps(t)||ls(8),hs(t)&&(t=Us(t));var e=Cs(this),r=zs(this,t,void 0);return r[Ys].C=!0,Ds(e),r},e.finishDraft=function(t,e){var r=t&&t[Ys],n=r.A;return ks(n,e),Vs(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Ls&&ls(20),this.g=t},e.applyPatches=function(t,e){var r;for(r=e.length-1;r>=0;r--){var n=e[r];if(0===n.path.length&&"replace"===n.op){t=n.value;break}}var o=Is("Patches").$;return hs(t)?o(t,e):this.produce(t,function(t){return o(t,e.slice(r+1))})},t}(),aa=new sa,ua=aa.produce,ca=aa.produceWithPatches.bind(aa),la=aa.setAutoFreeze.bind(aa),ha=aa.setUseProxies.bind(aa),pa=aa.applyPatches.bind(aa),fa=aa.createDraft.bind(aa),da=aa.finishDraft.bind(aa),va={currentProjectStateDefinitionVersion:"0.4.0"},ya=va;async function ga(t,e,r){await cs(0),t.transaction(({drafts:t})=>{var n;const o=e.address.projectId;function i(){t.ephemeral.coreByProject[o].loadingState={type:"loaded"}}t.ephemeral.coreByProject[o]={lastExportedObject:null,loadingState:{type:"loading"}},t.ahistoric.coreByProject[o]={ahistoricStuff:""};const s=null==(n=fs(t.historic))?void 0:n.coreByProject[e.address.projectId];s?r&&-1==s.revisionHistory.indexOf(r.revisionHistory[0])?function(e){t.ephemeral.coreByProject[o].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:e}}(r):i():r?function(e){t.ephemeral.coreByProject[o].loadingState={type:"loaded"},t.historic.coreByProject[o]=e}(r):(t.ephemeral.coreByProject[o].loadingState={type:"loaded"},t.historic.coreByProject[o]={sheetsById:{},definitionVersion:ya.currentProjectStateDefinitionVersion,revisionHistory:[]})})}var ma=class{constructor(t,e={},r){var n;this.config=e,this.publicApi=r,_(this,"pointers"),_(this,"_pointerProxies"),_(this,"address"),_(this,"_readyDeferred"),_(this,"_sheetTemplates",new as.Atom({})),_(this,"sheetTemplatesP",this._sheetTemplates.pointer),_(this,"_studio"),_(this,"type","Theatre_Project"),this.address={projectId:t};const o=new as.Atom({ahistoric:{ahistoricStuff:""},historic:null!=(n=e.state)?n:{sheetsById:{},definitionVersion:ya.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._pointerProxies={historic:new ss.PointerProxy(o.pointer.historic),ahistoric:new ss.PointerProxy(o.pointer.ahistoric),ephemeral:new ss.PointerProxy(o.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},x.add(t,this),this._readyDeferred=_i(),e.state?setTimeout(()=>{this._studio||this._readyDeferred.resolve(void 0)},0):setTimeout(()=>{if(!this._studio)throw new Error(`Argument config.state in Theatre.getProject("${t}", config) is empty. This is fine while you are using @theatre/core along with @theatre/sutdio. But since @theatre/studio is not loaded, the state of project "${t}" will be empty.\n\nTo fix this, you need to add @theatre/studio into the bundle and export the projet's state. Learn how to do that at https://docs.theatrejs.com/in-depth/#exporting`)},1e3)}attachToStudio(t){if(this._studio){if(this._studio!==t)throw new Error(`Project ${this.address.projectId} is already attached to studio ${this._studio.address.studioId}`);console.warn(`Project ${this.address.projectId} is already attached to studio ${this._studio.address.studioId}`)}else this._studio=t,t.initialized.then(async()=>{await ga(t,this,this.config.state),this._pointerProxies.historic.setPointer(t.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(t.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(t.atomP.ephemeral.coreByProject[this.address.projectId]),this._readyDeferred.resolve(void 0)})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyDeferred.promise}isReady(){return"resolved"===this._readyDeferred.status}getOrCreateSheet(t,e="default"){let r=this._sheetTemplates.getState()[t];return r||(r=new is(this,t),this._sheetTemplates.setIn([t],r)),r.getInstance(e)}},_a=(t,e,r)=>"string"!=typeof t?`${e} must be a string. ${qi(t)} given.`:t.trim().length!==t.length?`${e} must not have leading or trailing spaces. '${t}' given.`:t.length<r[0]||t.length>r[1]?`${e} must have between ${r[0]} and ${r[1]} characters. '${t}' given.`:void 0,ba=(t,e,r=!1)=>{const n=_a(t,e,[3,32]);if("string"==typeof n&&r)throw new vn(n);return n},Pa=(t,e,r=!1)=>{const n=_a(t,e,[1,32]);if("string"==typeof n&&r)throw new vn(n);return n},wa=class{get type(){return"Theatre_Project_PublicAPI"}constructor(t,e={}){D(this,new ma(t,e,this))}get ready(){return A(this).ready}get isReady(){return A(this).isReady()}get address(){return h({},A(this).address)}sheet(t,e="default"){const r=Yi(t,"project.sheet");return A(this).getOrCreateSheet(r,e).publicApi}},ja=m(j()),Sa=m(require("@theatre/dataverse")),Oa=m(require("@theatre/dataverse"));function Ta(t,e={}){const r=d(e,[]),n=x.get(t);return n?n.publicApi:(e.state&&xa(t,e.state),new wa(t,r))}var Ia=(t,e)=>{if(Array.isArray(e)||null==e||e.definitionVersion!==ya.currentProjectStateDefinitionVersion)throw new vn(`Error validating conf.state in Theatre.getProject(${JSON.stringify(t)}, conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://docs.theatrejs.com`)},xa=(t,e)=>{Ia(t,e)},ka=t=>{if("string"!=typeof t)throw new vn(`Argument 'projectId' in \`Theatre.getProject(projectId, ...)\` must be a string. Instead, it was ${qi(t)}.`);const e=t.trim();if(e.length!==t.length)throw new vn(`Argument 'projectId' in \`Theatre.getProject("${t}", ...)\` should not have surrounding whitespace.`);if(e.length<3)throw new vn(`Argument 'projectId' in \`Theatre.getProject("${t}", ...)\` should be at least 3 characters long.`)};function Aa(t,e){if((0,Sa.isPointer)(t)){return(0,Oa.valueDerivation)(t).tapImmediate(on,e)}if((0,Oa.isDerivation)(t))return t.tapImmediate(on,e);throw new Error("Called onChange(p) where p is neither a pointer nor a derivation.")}function Da(t){if((0,Sa.isPointer)(t))return(0,Oa.valueDerivation)(t).getValue();throw new Error("Called val(p) where p is not a pointer.")}var Ca="__TheatreJS_StudioBundle",Ba="__TheatreJS_CoreBundle",Va=class{constructor(){_(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.4.7"}getBitsForStudio(t,e){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=t,e({projectsP:x.atom.pointer.projects,privateAPI:A,coreExports:S})}};function $a(){if("undefined"==typeof window)return;const t=window[Ba];if(void 0!==t)throw"object"==typeof t&&t&&"string"==typeof t.version?new Error("It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:\n1. You might have two separate versions of theatre in node_modules.\n2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.\n\nNote that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module."):new Error(`The variable window.${Ba} seems to be already set by a module other than @theatre/core.`);const e=new Va;window[Ba]=e;const r=window[Ca];r&&null!==r&&"Theatre_StudioBundle"===r.type&&r.registerCoreBundle(e)}$a();
},{"@theatre/dataverse":"pCEE"}],"vjXy":[function(require,module,exports) {
module.exports={sheetsById:{Table:{staticOverrides:{byObject:{Box:{position:{x:173,y:318},y:300,stretch:-1.1599999999999997},Dust:{opacity:.37,scaleX:1}}},sequence:{subUnitsPerUnit:30,length:2,type:"PositionalSequence",tracksByObject:{Box:{trackData:{AQMTK8I7k5:{type:"BasicKeyframedTrack",keyframes:[{id:"LuGZxLq7Kq",position:0,connectedRight:!0,handles:[.5,1,.5,0],value:165},{id:"DpG125PqB-",position:.967,connectedRight:!0,handles:[.5,1,.5,0],value:294},{id:"MzGodVuJJa",position:1.633,connectedRight:!0,handles:[.5,1,.5,0],value:440},{id:"rWLbo9k0Gs",position:3.1,connectedRight:!0,handles:[.5,1,.5,0],value:581},{id:"OGx6K1XMzu",position:3.933,connectedRight:!0,handles:[.5,1,.5,0],value:722}]},FOzP0WOnXm:{type:"BasicKeyframedTrack",keyframes:[{id:"wQ9mTc9Sc_",position:0,connectedRight:!0,handles:[.5,1,.5387096774193548,.020833333333333332],value:300},{id:"ZGEeMifIsv",position:1,connectedRight:!0,handles:[.9935483870967741,.849013157894737,.014516129032258063,.3466660800664213],value:3.9942751806827346},{id:"iRdOL3pp4b",position:2,connectedRight:!0,handles:[.5,1,.5,0],value:300}]},yGILQGy9bj:{type:"BasicKeyframedTrack",keyframes:[{id:"LMCpLu5Bz8",position:0,connectedRight:!0,handles:[.5,1,.5,0],value:-.9999999999999997},{id:"VrNcbQxqqq",position:.933,connectedRight:!0,handles:[.5,1,.5,0],value:-1.1999999999999997},{id:"Xx1PP7x46C",position:1,connectedRight:!0,handles:[.5,1,.5,0],value:-.842150721897905},{id:"pgieCbqqa_",position:1.2,connectedRight:!0,handles:[.5,1,.5,0],value:-1.2399999999999998},{id:"cpuVjg2xQ4",position:2,connectedRight:!0,handles:[.5,1,.5,0],value:-.9999999999999998}]}},trackIdByPropPath:{'["position","x"]':"AQMTK8I7k5",'["y"]':"FOzP0WOnXm",'["stretch"]':"yGILQGy9bj"}},Dust:{trackData:{WxZaWloxoF:{type:"BasicKeyframedTrack",keyframes:[{id:"CpOM5Af3x3",position:.5,connectedRight:!0,handles:[.5,1,.4096774193548388,-.036441992517923905],value:0},{id:"BHBonRNit3",position:1,connectedRight:!0,handles:[.8774193548387096,.5544493374033643,.12096774193548399,.847682119205298],value:.88},{id:"Va-vc6Jz3a",position:1.6,connectedRight:!0,handles:[.5,1,.5,0],value:-.07999999999999996}]},ieuKKuzweY:{type:"BasicKeyframedTrack",keyframes:[{id:"N9iD7i22Cu",position:.5,connectedRight:!0,handles:[.5,1,.5,0],value:.09999999999999998},{id:"VXRSWBjhn5",position:1,connectedRight:!0,handles:[.5,1,.5,0],value:1},{id:"pCtBt3qRYk",position:1.6,connectedRight:!0,handles:[.5,1,.5,0],value:0}]}},trackIdByPropPath:{'["opacity"]':"WxZaWloxoF",'["scaleX"]':"ieuKKuzweY"}}}}}},definitionVersion:"0.4.0",revisionHistory:["OV-DCDqvtVsUtrF5","qITdBtbuYJsVRrUN"]};
},{}],"Focm":[function(require,module,exports) {
"use strict";var e=require("@theatre/core"),t=n(require("./state.json"));function n(e){return e&&e.__esModule?e:{default:e}}const a=(0,e.getProject)("Jumping Balls",{state:t.default});function s(t){const n=document.createElement("div");n.className="boxContainer",document.getElementById("space").appendChild(n);const s=a.sheet("Table","Instance "+t),c=s.object("Box",{y:0,stretch:e.types.number(1,{nudgeMultiplier:.01})}),l=document.createElement("div");l.className="box ",n.appendChild(l),l.addEventListener("click",()=>{s.sequence.play({iterationCount:1/0})}),c.onValuesChange(({y:e,stretch:t})=>{l.style.transform=`translateY(${-e}px) scale(${1/t}, ${t})`});const r=document.createElement("div");r.className="dust",n.appendChild(r),s.object("Dust",{opacity:e.types.number(1,{nudgeMultiplier:.01}),scaleX:e.types.number(1,{nudgeMultiplier:.01})}).onValuesChange(({opacity:e,scaleX:t})=>{r.style.opacity=String(e),r.style.transform=`scaleX(${t})`})}s(1),s(2),s(3);
},{"@theatre/core":"IWNj","./state.json":"vjXy"}]},{},["Focm"], null)
//# sourceMappingURL=/jumping-ball-animation/src.934bfd31.js.map